<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login - ASIA PAYMENT</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --primary:#0055ff;
      --bg:#f5f7fb;
      --card:#ffffff;
      --danger:#dc3545;
      --muted:#6c757d;
    }
    *{box-sizing:border-box;font-family:Segoe UI, Tahoma, Geneva, Verdana, sans-serif}
    body{margin:0;background:var(--bg);display:flex;align-items:center;justify-content:center;height:100vh;padding:20px}
    .card{width:100%;max-width:420px;background:var(--card);border-radius:12px;padding:28px;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
    h1{margin:0 0 6px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .form-group{margin-bottom:14px}
    label{display:block;margin-bottom:6px;font-weight:600;font-size:14px}
    input[type="text"],input[type="password"]{
      width:100%;padding:10px 12px;border:1px solid #e3e6ea;border-radius:8px;font-size:15px
    }
    .actions{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:12px}
    button.btn{padding:10px 16px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
    button.btn-primary{background:var(--primary);color:white}
    button.btn-ghost{background:transparent;border:1px solid #e3e6ea}
    .note{margin-top:12px;font-size:13px;color:var(--muted)}
    .error{color:var(--danger);font-size:13px;margin-top:8px;display:none}
    .hint{margin-top:10px;font-size:13px;color:#333;background:#f1f5ff;padding:10px;border-radius:8px;border:1px solid rgba(0,85,255,0.08)}
    .show-pass{cursor:pointer;margin-left:8px;color:var(--muted)}
    .center{display:flex;gap:8px;align-items:center}
    .logo{display:flex;gap:12px;align-items:center;margin-bottom:18px}
    .logo img{height:44px;border-radius:8px}
    footer{margin-top:18px;text-align:center;font-size:13px;color:var(--muted)}
    @media (max-width:420px){.card{padding:20px}}
  </style>
</head>
<body>
  <div class="card" role="main">
    <div class="logo">
      <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgoChegZIJ3ZMDbPsF24DjVP68tqUjY-kl2-y_TWpfJuJLt1XHPqKEfQI_oL9-cC8iA8GaALbOP7VsgmqDWsPUaTfHSHxp6e_LOGIMy3op4C8m-12nLPXgbYGIxKeKHPb4lnKzztycM5GNBK6QwYvW0omPYX9fduw8c9K6BGj_dAv9-4acxnU1ZF6en4oA/s512/logo_asia_payment.jpg" alt="logo">
      <div>
        <h1>ASIA PAYMENT Console</h1>
        <p class="lead">Silakan login untuk melanjutkan ke dashboard</p>
      </div>
    </div>

    <form id="loginForm" autocomplete="off" aria-label="form login">
      <div class="form-group">
        <label for="username">Username</label>
        <input id="username" type="text" value="admin" required />
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <div style="display:flex;align-items:center;gap:8px">
          <input id="password" type="password" value="1234" required />
          <span id="togglePass" class="show-pass" title="Tampilkan/ Sembunyikan password">
            <i class="fas fa-eye"></i>
          </span>
        </div>
      </div>

      <div class="error" id="errorMsg">Username atau password salah.</div>

      <div class="actions">
        <div style="display:flex;gap:8px;align-items:center">
          <input id="remember" type="checkbox" />
          <label for="remember" style="font-size:13px;color:var(--muted);margin:0">Ingat saya</label>
        </div>

        <div style="display:flex;gap:8px">
          <button type="button" class="btn btn-ghost" id="btnDemo">Isi Demo</button>
          <button type="submit" class="btn btn-primary">Login</button>
        </div>
      </div>

      <div class="hint">
        Default credentials â€” <strong>username:</strong> <code>admin</code> &nbsp; <strong>password:</strong> <code>1234</code>
      </div>

      <footer>
        <small>&copy; 2023 ASIA PAYMENT</small>
      </footer>
    </form>
  </div>

  <script>
    // Default credentials (sesuai permintaan)
    const DEFAULT_USERNAME = 'admin';
    const DEFAULT_PASSWORD = '1234';

    const loginForm = document.getElementById('loginForm');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const errorMsg = document.getElementById('errorMsg');
    const togglePass = document.getElementById('togglePass');
    const btnDemo = document.getElementById('btnDemo');

    // Jika sudah login, langsung redirect ke dashboard
    (function checkAlreadyLoggedIn(){
      try {
        const logged = localStorage.getItem('adminUser');
        if (logged) {
          // Pastikan file dashboard.html ada di lokasi yang sama
          window.location.href = 'dashboard.html';
        }
      } catch(e) {
        console.warn('LocalStorage tidak tersedia:', e);
      }
    })();

    // Toggle show/hide password
    togglePass.addEventListener('click', () => {
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        togglePass.innerHTML = '<i class="fas fa-eye-slash"></i>';
      } else {
        passwordInput.type = 'password';
        togglePass.innerHTML = '<i class="fas fa-eye"></i>';
      }
    });

    // Tombol demo untuk cepat mengisi form
    btnDemo.addEventListener('click', () => {
      usernameInput.value = DEFAULT_USERNAME;
      passwordInput.value = DEFAULT_PASSWORD;
      errorMsg.style.display = 'none';
    });

    // Fungsi login
    loginForm.addEventListener('submit', function(e){
      e.preventDefault();
      errorMsg.style.display = 'none';

      const username = (usernameInput.value || '').trim();
      const password = (passwordInput.value || '').trim();

      // Cek kredensial
      if (username === DEFAULT_USERNAME && password === DEFAULT_PASSWORD) {
        // Simpan ke localStorage sebagai objek adminUser
        const adminUser = {
          username: username,
          loginAt: new Date().toISOString()
        };

        try {
          localStorage.setItem('adminUser', JSON.stringify(adminUser));
        } catch (err) {
          console.warn('Gagal menyimpan ke localStorage:', err);
        }

        // Redirect ke dashboard
        window.location.href = 'dashboard.html';
      } else {
        // Tampilkan pesan error
        errorMsg.textContent = 'Username atau password salah.';
        errorMsg.style.display = 'block';
      }
    });
  </script>
</body>
</html>
